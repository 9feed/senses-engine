# UploadManager
Этот класс является родительским для остальных классов, описанных в документации. Вы тоже можете его использовать, однако он игнорируется в phpdoc.

```php
$um = new UploadManager();
```

## upload
Функция для загрузки файлов на определенный url.

| Параметр | Тип    | Описание                                                                               |
|----------|--------|----------------------------------------------------------------------------------------|
| $url     | string | URL для загрузки                                                                       |
| $files   | mixed  | Путь к файлу или файлам. Если передан массив, в нем может быть не более 5-ти элементов |
| $name    | string | Название поля, в котором будут передаваться файлы. Подробнее будет рассмотрено ниже    |
| $fields  | array  | Дополнительные поля запроса                                                            |

### Пути к файлам
Вы можете передать как несколько путей к файлам, так и один. Например:

```php
$um->upload('https://vk.com/serverForUpload', 'cat.png');
$um->upload('https://vk.com/serverForUpload', ['cat.png', 'dog.jpg']);
```

`$files` может быть только двух типов: либо `array`, либо `string`; в любом другом случае будет выброшено исключение [ParameterException](../modules/exceptions.md#param).

### Название поля
Этот параметр определяет, какое будет название у поля с файлом.

**Если был передан один файл,** он будет содержаться в поле с названием `$name`. То есть:

```php
$um->upload('https://vk.com/serverForUpload', 'cat.png', 'file'); // cat.png будет в поле file
```

**Если было передано несколько файлов,** каждый файл будет находиться в поле с названием `{$name}{$i}`. Более наглядно:

```php
$um->upload('https://vk.com/serverForUpload', ['cat.png', 'dog.jpg'], 'file');
/**
 * В данном случае cat.png будет в поле с названием file1,
 * а dog.jpg — в поле с названием file2.
 * С каждым новым файлом индекс возрастает.
```

> Это может казаться слишком запутанным, но на деле — легко. Вам даже не нужно об этом задуматься, если не собираетесь использовать этот класс.

### Наконец, примеры
Примеры уже были выше, но хорошо бы вынести их под отдельный заголовок.

```php
$um->upload('https://vk.com/serverForUpload', 'cat.png');
$um->upload('https://vk.com/serverForUpload', ['cat.png', 'dog.jpg'], 'photo', ['crop_width' => 100]);
```

## download
Функция для скачивания файлов с любого сайта.

| Параметр | Тип    | Описание                                                                          |
|----------|--------|-----------------------------------------------------------------------------------|
| $url     | string | URL файла                                                                         |
| $path    | string | Относительный путь для сохранения файла. По умолчанию это `__DIR__.'/senses-tmp'` |

```php
$um->download('https://vk.com/images/camera_400.png'); // сохранение в __DIR__.'/senses-tmp'
$um->download('https://vk.com/images/camera_400.png', '/MYTEMP'); // сохранение в __DIR__.'/MYTEMP'
```

## reUpload
Скачивание и загрузка файла.

| Параметр    | Тип    | Описание                                                                          |
|-------------|--------|-----------------------------------------------------------------------------------|
| $save_url   | string | URL файла                                                                         |
| $upload_url | string | URL для загрузки                                                                  |
| $save_path  | string | Относительный путь для сохранения файла. По умолчанию это `__DIR__.'/senses-tmp'` |

```php
$um->reUpload('https://vk.com/images/camera_400.png', 'https://vk.com/serverForUpload');
```