# User Longpoll
С версии `0.6` движок умеет работать с User Longpoll. В файл с конфигом были внесены изменения: добавлено новое поле `type`, изменено названия поля `group_id` на `api_id`. Информация по конфигу есть в следующем пункте.

Чтобы движок начал работать с User LP, в конфиг-файле нужно указать `type = user`. Далее работа с командами идет как обычно, за исключением того, что пользователи не могут отправлять клавиатуру и обрабатывать payload-команды. Также, в поле `$data` приходит массив [из longpoll](https://vk.com/dev/using_longpoll_2?f=3.%2B%D0%A1%D1%82%D1%80%D1%83%D0%BA%D1%82%D1%83%D1%80%D0%B0%2B%D1%81%D0%BE%D0%B1%D1%8B%D1%82%D0%B8%D0%B9).

*Важно:* движок использует 10 версию LP, неофициальная документация по которой находится [здесь](https://github.com/danyadev/longpoll-doc). Запросы отправляются с `mode` = `2 | 8 | 32 | 64 | 128` (234).

> Вместо названий событий при указании `datahandler` используйте код события. Например, вместо `$be->addDataHandler('message_new', function() {})` используйте `$be->addDataHandler('4', function() {})`. Первый параметр должен быть строкой.